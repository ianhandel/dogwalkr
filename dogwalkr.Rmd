---
title: "dogwalkr"
output:
  html_document:
    code_folding: hide
---

Shaded areas might be 5 mile buffers on The Scottish Borders and The City of Edinburgh. Don't rely on that though.

```{r, message=FALSE, warning=FALSE, fig.width=10}
library(tidyverse)
library(sf)
library(leaflet)
library(here)

meters_in_mile <- 1609

ca <- read_sf(here(
  "Local_Authority_Districts__December_2017__Boundaries_GB_BUC-shp",
  "Local_Authority_Districts__December_2017__Boundaries_GB_BUC.shp"
))

# st_crs(ca)

ca_buffer <- ca %>%
  st_buffer(dist = 5 * meters_in_mile) %>% 
  mutate(stroke = 0.2)

ca %>% 
  mutate(stroke = 0) %>% 
  bind_rows(ca_buffer) %>% 
  filter(LAD17NM %in% c("Scottish Borders", "City of Edinburgh")) %>%
  mutate(fillColor = if_else(LAD17NM == "Scottish Borders",
                              "red", "blue")) %>% 
  st_transform(crs = "+proj=latlon +datum=WGS84") %>%
  leaflet() %>%
  addTiles() %>%
  addPolygons(fillColor = ~fillColor, stroke = ~stroke,
              weight = 2, fillOpacity = 0.1, color = "grey") %>%
  addMeasure() %>%
  addScaleBar()
```

Copyright notice for boundary data:

Source: Office for National Statistics licensed under the Open Government Licence v.3.0

Contains OS data Â© Crown copyright and database right [2017]
